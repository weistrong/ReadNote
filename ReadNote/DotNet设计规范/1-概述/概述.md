## 概述

> 影响软件品质的因素由性能、可靠性、依赖性、向后兼容性管理等，框架必须遵循这些品质标准。
>
> 它与其他软件之间的区别在于，框架由可重用的 API 构成，因此在设计高品质框架时还存在一些特殊的考虑因素。



#### 精心设计的框架所具备的品质

* **精心设计的框架是简单的**
  * **简单性**是每个框架必须具备的条件。
  * 如果某个特性的设计比较复杂需要考虑再三，那么更好的选择是将该特性从当前版本去除，在下一版本时投入更多事件，从而得到正确的设计。
  * 如果感觉设计不对劲，但还是将它发行了，那么很可能会为此而后悔。
  * 可以使用**客户先行_(client-flirst programming)_** 的测试方法来判断一个框是否简单。
* **精心设计的框架设计代价高**
  * 框架设计应该是开发过程中明确而独立的一部分。
  * 开发人员职责应该明确，把不同的职责混杂在一起是错误的，因为这会使设计暴露出实现细节。而对于框架的用户来说实现细节应该是不可见的。
* **精心设计的框架充满权衡利弊**
  * 十全十美的设计并不存在。
  * 设计就是先理解不同选择之间的利弊，然后对它们进行权衡，以便最终做出正确的决定。
* **精心设计的框架应该借鉴过去的经验**
  * 在框架设计中引入全新的方案是可能的，可是可取的，但需要极其小新。
  * 随着新概念数量的增加，整体设计仍能保持正确的可能性随之下降。
  * 不要再设计程序库的时候发挥创造力，要让程序库的 API 尽可能的无趣。有趣的应该是功能，而不是 API。
* **精心设计的框架要考虑未来的发展**
  * 不要把未完成的特性放到当前版本中，最好是等整个特性都完成后再放入下一个版本之中。
  * 在权衡一个设计的时候，应该判断最终的决定对框架在将来的发展能力会有怎样的影响。
* **精心设计的框架应具有良好的继承性**
  * 现在框架需要能与其所处的大型系统和好的集成在一起。
* **精心设计的框架是一致的**
  * 一致性是框架设计的关键特性，是影响开发效率的最重要因素。
  * 一致的框架可以让开发者举一反三，从框架中已了解的部分推知不了解的部分。
  * 一致性同时还可以帮助开发人员很快的认识到，设计的哪些部分是某个特定的特性区域所独有的，而哪些仅仅是常用的设计模式和惯用法。
* **精心设计的框架是可测试的**
  * 框架的单元测试覆盖率不足以判断其是否_可测试_。我们需要进一步保证那些用我们的框架创建的应用程序本身也是可测试的。
  * 把自己放在客户的位置上，以测试驱动的方式用我们的框架来开发应用程序，这一举措会极大地提升框架的设计。

