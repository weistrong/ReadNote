## 线程基础

#### Windows 为什么要支持线程

> 单线程容易堵塞程序执行。
>
> 线程的职责是对 CPU 进行虚拟化。Windows 为每个进程都提供了该进程专用的线程。

#### 线程开销

* 线程有 **时间_(内存耗用)_** 和 **时间_(运行时的执行性能)_** 上的开销。每个线程都有以下要素：
  * 线程内核对象_(thread kernel object)_
    * 每个线程都创建，包含一组对象线程进行描述的属性。还有**线程上下文_(thread context)_**。上下文是包含 CPU 寄存器集合的内存块。对于 x86，x64，ARM 架构的线程上下文分别占用 700，1200，350 字节的内存。
  * 线程环境块_(thread environment block, TEB)_
    * 